(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,r){e.exports=r(21)},17:function(e,t,r){},21:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(7),l=r.n(o),i=(r(17),r(4)),s=r(2),u=r(3),c=r(9),m=r(8),p=r(10),d=r(5),h={labelsRoot:{padding:"8px 64px",display:"flex",justifyContent:"space-between"},label:{fontSize:"1.15rem"},selectRoot:{padding:"8px 64px",display:"flex",justifyContent:"space-between"},select:{fontSize:"1.15rem",border:"none",padding:"2px 4px"},reflektorLabel:{fontSize:"1.15rem",margin:"0 16px"},reflektorSelect:{fontSize:"1.05rem",border:"none",margin:"32px 0",padding:"2px 12px"}},g=[n.a.createElement("option",{key:0,value:0},"A"),n.a.createElement("option",{key:1,value:1},"B"),n.a.createElement("option",{key:2,value:2},"C"),n.a.createElement("option",{key:3,value:3},"D"),n.a.createElement("option",{key:4,value:4},"E"),n.a.createElement("option",{key:5,value:5},"F"),n.a.createElement("option",{key:6,value:6},"G"),n.a.createElement("option",{key:7,value:7},"H"),n.a.createElement("option",{key:8,value:8},"I"),n.a.createElement("option",{key:9,value:9},"J"),n.a.createElement("option",{key:10,value:10},"K"),n.a.createElement("option",{key:11,value:11},"L"),n.a.createElement("option",{key:12,value:12},"M"),n.a.createElement("option",{key:13,value:13},"N"),n.a.createElement("option",{key:14,value:14},"O"),n.a.createElement("option",{key:15,value:15},"P"),n.a.createElement("option",{key:16,value:16},"Q"),n.a.createElement("option",{key:17,value:17},"R"),n.a.createElement("option",{key:18,value:18},"S"),n.a.createElement("option",{key:19,value:19},"T"),n.a.createElement("option",{key:20,value:20},"U"),n.a.createElement("option",{key:21,value:21},"V"),n.a.createElement("option",{key:22,value:22},"W"),n.a.createElement("option",{key:23,value:23},"X"),n.a.createElement("option",{key:24,value:24},"Y"),n.a.createElement("option",{key:25,value:25},"Z")],b=[n.a.createElement("option",{key:0,value:1},"I"),n.a.createElement("option",{key:1,value:2},"II"),n.a.createElement("option",{key:2,value:3},"III"),n.a.createElement("option",{key:3,value:4},"IV"),n.a.createElement("option",{key:4,value:5},"V")],v=[n.a.createElement("option",{key:0,value:"B"},"UKW-B (Wehrmacht)"),n.a.createElement("option",{key:1,value:"C"},"UKW-C (Luftwaffe)")];var y=function(e){var t=e.rotorChoices,r=e.rotorStarts,a=e.reflektor,o=Object(d.a)(t,3),l=o[0],i=o[1],s=o[2],u=Object(d.a)(r,3),c=u[0],m=u[1],p=u[2];return n.a.createElement("div",null,n.a.createElement("h3",null,"Settings"),n.a.createElement("div",{style:h.labelsRoot},n.a.createElement("label",{style:h.label},"Rotor 1"),n.a.createElement("label",{style:h.label},"Rotor 2"),n.a.createElement("label",{style:h.label},"Rotor 3")),n.a.createElement("div",{style:h.selectRoot},n.a.createElement("select",{style:h.select,name:"rotor1",value:l,onChange:function(t){return e.onSelectChange(t.target.name,t.target.value)}},b),n.a.createElement("select",{style:h.select,name:"rotor2",value:i,onChange:function(t){return e.onSelectChange(t.target.name,t.target.value)}},b),n.a.createElement("select",{style:h.select,name:"rotor3",value:s,onChange:function(t){return e.onSelectChange(t.target.name,t.target.value)}},b)),n.a.createElement("div",{style:h.labelsRoot},n.a.createElement("label",{style:h.label},"Start 1"),n.a.createElement("label",{style:h.label},"Start 2"),n.a.createElement("label",{style:h.label},"Start 3")),n.a.createElement("div",{style:h.selectRoot},n.a.createElement("select",{style:h.select,name:"start1",value:c,onChange:function(t){return e.onSelectChange(t.target.name,t.target.value)}},g),n.a.createElement("select",{style:h.select,name:"start2",value:m,onChange:function(t){return e.onSelectChange(t.target.name,t.target.value)}},g),n.a.createElement("select",{style:h.select,name:"start3",value:p,onChange:function(t){return e.onSelectChange(t.target.name,t.target.value)}},g)),n.a.createElement("label",{style:h.reflektorLabel},"Reflektor"),n.a.createElement("select",{style:h.reflektorSelect,name:"reflektor",value:a,onChange:function(t){return e.onSelectChange(t.target.name,t.target.value)}},v))},f={root:{margin:"8px"},input:{minWidth:"240px",width:"320px",margin:"8px",padding:"4px 8px",resize:"none",border:"3px solid #999999",borderRadius:"8px",backgroundColor:"#fefefe",fontSize:"18px"}},_=function(e){return n.a.createElement("div",{style:f.root},n.a.createElement("textarea",{style:f.input,placeholder:"your message",autoComplete:"off",rows:8,value:e.message,onChange:function(t){return e.inputChange(t.target.value,e.crypto)}}),n.a.createElement("textarea",{style:f.input,placeholder:"encoded message",autoComplete:"off",rows:8,value:e.encoded}))},E={root:{padding:"16px 24px",fontSize:"1rem"}},k=function(){return n.a.createElement("div",{style:E.root},n.a.createElement("p",null,"Now try copying the encrypted message and paste it anywhere to send it to a friend. This same web app can be used to decrypt the message by copy/pasting the sent message into the first box.",n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("b",null,"Important: "),"Be sure to also share the exact same settings you used.",n.a.createElement("br",null),n.a.createElement("i",null,"example: 3 1 3, D A G, UKW-B, AB CD EF GH IJ KL MN OP QR ST")))},C={root:{fontSize:"1.15rem"},board:{display:"flex",justify:"space-between",margin:"0 auto"},pair:{margin:"auto",padding:"8px"},select:{border:"none",fontSize:"1.15rem",margin:"4px",padding:"0 4px"}},x=function(e){var t=function(){return e.possible.map(function(e,t){return n.a.createElement("option",{key:t},e)})},r=function(t,r,a,o){return n.a.createElement("div",{style:C.pair},"Pair ",t,n.a.createElement("div",null,n.a.createElement("select",{style:C.select,value:a,onChange:function(r){return e.onChangeKey(r.target.value,t)}},n.a.createElement("option",null,a),r)),n.a.createElement("div",null,n.a.createElement("select",{style:C.select,value:o,onChange:function(r){return e.onChangeValue(r.target.value,t)}},n.a.createElement("option",null,o),r)))},a=function(t){return Object.keys(e.board[t])[0]};return n.a.createElement("div",{style:C.root},n.a.createElement("div",{style:C.title},"Plugboard"),n.a.createElement("div",{style:C.board},r(1,t(),a(1),e.board[1][a(1)]),r(2,t(),a(2),e.board[2][a(2)]),r(3,t(),a(3),e.board[3][a(3)]),r(4,t(),a(4),e.board[4][a(4)]),r(5,t(),a(5),e.board[5][a(5)])),n.a.createElement("div",{style:C.board},r(6,t(),a(6),e.board[6][a(6)]),r(7,t(),a(7),e.board[7][a(7)]),r(8,t(),a(8),e.board[8][a(8)]),r(9,t(),a(9),e.board[9][a(9)]),r(10,t(),a(10),e.board[10][a(10)])))},w=r(1),S=r.n(w),j=["e","k","m","f","l","g","d","q","v","z","n","t","o","w","y","h","x","u","s","p","a","i","b","r","c","j"],R=["a","j","d","k","s","i","r","u","x","b","l","h","w","t","m","c","q","g","z","n","p","y","f","v","o","e"],O=["b","d","f","h","j","l","c","p","r","t","x","v","z","n","y","e","i","w","g","a","k","m","u","s","q","o"],z=["e","s","o","v","p","z","j","a","y","q","u","i","r","h","x","l","n","f","t","g","k","d","c","m","w","b"],q=["v","z","b","r","g","i","t","y","u","p","s","d","n","h","l","x","a","w","m","j","q","o","f","e","c","k"],I=function(){function e(t,r){switch(Object(s.a)(this,e),this.__position=r,t){case 1:this.__letters=j,this.__turnover="q";break;case 2:this.__letters=R,this.__turnover="e";break;case 3:this.__letters=O,this.__turnover="v";break;case 4:this.__letters=z,this.__turnover="j";break;case 5:this.__letters=q,this.__turnover="z";break;default:console.error("error invalid Rotor input. using default mapping."),this.__letters=j}}return Object(u.a)(e,[{key:"getCurrentPosition",value:function(){return this.__position}},{key:"getTurnover",value:function(){return this.__turnover}},{key:"getChar",value:function(e){return this.__letters[e]}},{key:"findIndex",value:function(e){return this.__letters.indexOf(e)}},{key:"rotorStep",value:function(){++this.__position,this.__position>25&&(this.__position=0)}}]),e}(),B={a:"y",b:"r",c:"u",d:"h",e:"q",f:"s",g:"l",h:"d",i:"p",j:"x",k:"n",l:"g",m:"o",n:"k",o:"m",p:"i",q:"e",r:"b",s:"f",t:"z",u:"c",v:"w",w:"v",x:"j",y:"a",z:"t"},W={a:"f",b:"v",c:"p",d:"j",e:"i",f:"a",g:"o",h:"y",i:"e",j:"d",k:"r",l:"z",m:"x",n:"w",o:"g",p:"c",q:"t",r:"k",s:"u",t:"q",u:"s",v:"b",w:"n",x:"m",y:"h",z:"l"},K=function(){function e(t,r,a,n,o,l,i,u){switch(Object(s.a)(this,e),this.__rotor1=new I(t,n),this.__rotor2=new I(r,o),this.__rotor3=new I(a,l),this.__plugboard=u,i){case"B":this.__reflektor=B;break;case"C":this.__reflektor=W;break;default:this.__reflektor=B}}return Object(u.a)(e,[{key:"write",value:function(e){var t=e.toLowerCase().split("");for(var r in t){var a=!1,n=!1,o=this.__rotor3.getTurnover(),l=String.fromCharCode(this.__rotor3.getCurrentPosition()+97),i=this.__rotor2.getTurnover(),s=String.fromCharCode(this.__rotor2.getCurrentPosition()+97);o===l&&(a=!0);var u=t[r];/^[a-z]$/.test(u)&&(u=this.__plugboard[u]?this.__plugboard[u]:u,u=this.__writeRotorForward(this.__rotor3,u),u=this.__writeRotorForward(this.__rotor2,u),u=this.__writeRotorForward(this.__rotor1,u),u=this.__reflektor[u],u=this.__writeRotorReverse(this.__rotor1,u),u=this.__writeRotorReverse(this.__rotor2,u),u=this.__writeRotorReverse(this.__rotor3,u),u=this.__plugboard[u]?this.__plugboard[u]:u,t[r]=u,this.__rotor3.rotorStep(),a&&this.__rotor2.rotorStep(),i===s&&(n=!0),n&&this.__rotor1.rotorStep())}return t.join("")}},{key:"__writeRotorForward",value:function(e,t){var r=e.getCurrentPosition(),a=(t.charCodeAt(0)-97+r)%26,n=e.getChar(a).charCodeAt(0);return n=n-r<97?n-(r-26):n-r,String.fromCharCode(n)}},{key:"__writeRotorReverse",value:function(e,t){var r=e.getCurrentPosition(),a=t.charCodeAt(0),n=a+r>122?String.fromCharCode(a+(r-26)):String.fromCharCode(a+r),o=e.findIndex(n),l=o-r<0?o-(r-26)+97:o-r+97;return String.fromCharCode(l)}}]),e}();K.propTypes={rotor1:S.a.number.isRequired,start1:S.a.number.isRequired,rotor2:S.a.number.isRequired,start2:S.a.number.isRequired,rotor3:S.a.number.isRequired,start3:S.a.number.isRequired,plugboard:S.a.object.isRequired};var P={root:{textAlign:"center"},header:{border:"1px solid #603030",backgroundColor:"#603030",color:"#fefefe"},title:{fontSize:"1.35rem"},content:{margin:"0 auto",maxWidth:"800px"}},A=10,T=function(e){function t(){var e,r;Object(s.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={rotor1:1,rotor2:2,rotor3:3,start1:0,start2:0,start3:0,reflektor:"B",plugboard:[{sent:"inel"},{a:"b"},{c:"d"},{e:"f"},{g:"h"},{i:"j"},{k:"l"},{m:"n"},{o:"p"},{q:"r"},{s:"t"}],possible:["u","v","w","x","y","z"],message:"",encoded:""},r.onMessageWrite=function(e,t){r.setState({message:e,encoded:t.write(e)})},r.choiceChange=function(e,t){var a;/[0-9]/.test(t)&&(t=parseInt(t,A)),r.setState((a={},Object(i.a)(a,e,t),Object(i.a)(a,"message",""),Object(i.a)(a,"encoded",""),a))},r.plugboardChangeKey=function(e,t){r.setState(function(r){var a=Object.keys(r.plugboard[t])[0],n=r.possible;n[n.indexOf(e)]=a;var o=r.plugboard[t][a],l=r.plugboard;return a=e,l[t]=Object(i.a)({},a,o),{plugboard:l,possible:n,message:"",encoded:""}})},r.plugboardChangeValue=function(e,t){r.setState(function(r){var a=r.plugboard,n=Object.keys(a[t])[0],o=a[t][n],l=r.possible;return l[l.indexOf(e)]=o,o=e,a[t]=Object(i.a)({},n,o),{plugboard:a,possible:l,message:"",encoded:""}})},r}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.rotor1,r=e.rotor2,a=e.rotor3,o=e.start1,l=e.start2,i=e.start3,s=e.reflektor,u=function(e){var t={},r=!0,a=!1,n=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var i=o.value,s=Object.keys(i)[0];t[s]=i[s],t[i[s]]=s}}catch(u){a=!0,n=u}finally{try{r||null==l.return||l.return()}finally{if(a)throw n}}return t}(e.plugboard),c=new K(t,r,a,o,l,i,"B",u);return n.a.createElement("div",{style:P.root},n.a.createElement("header",{style:P.header},n.a.createElement("h1",{style:P.title},"Enigma M3 Web")),n.a.createElement("div",{style:P.content},n.a.createElement(y,{rotorChoices:[t,r,a],rotorStarts:[o,l,i],reflektor:s,onSelectChange:this.choiceChange}),n.a.createElement(x,{board:this.state.plugboard,possible:this.state.possible,onChangeKey:this.plugboardChangeKey,onChangeValue:this.plugboardChangeValue}),n.a.createElement(_,{inputChange:this.onMessageWrite,message:this.state.message,encoded:this.state.encoded,crypto:c}),n.a.createElement(k,null)))}}]),t}(n.a.Component);l.a.render(n.a.createElement(T,null),document.getElementById("root"))}},[[11,2,1]]]);