(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports=a(22)},18:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var r=a(0),o=a.n(r),n=a(8),l=a.n(n),i=(a(18),a(1)),s=a(2),c=a(4),u=a(5),m=a(10),h=a(9),d=a(11),p=a(6),g={root:{padding:"0 1rem"},labelsRoot:{display:"flex",justifyContent:"space-between"},label:{fontSize:"1.10rem"},selectRoot:{display:"flex",justifyContent:"space-between"},select:{fontSize:"1.05rem",border:"none",margin:"1rem 0",padding:"2px 4px",_dark:{backgroundColor:"#603030",color:"#eeeeee"}},reflektorLabel:{fontSize:"1.10rem"},reflektorSelect:{fontSize:"1.05rem",border:"none",margin:"1rem",padding:"2px 12px",_dark:{backgroundColor:"#603030",color:"#eeeeee"}}},b=[o.a.createElement("option",{key:0,value:0},"A"),o.a.createElement("option",{key:1,value:1},"B"),o.a.createElement("option",{key:2,value:2},"C"),o.a.createElement("option",{key:3,value:3},"D"),o.a.createElement("option",{key:4,value:4},"E"),o.a.createElement("option",{key:5,value:5},"F"),o.a.createElement("option",{key:6,value:6},"G"),o.a.createElement("option",{key:7,value:7},"H"),o.a.createElement("option",{key:8,value:8},"I"),o.a.createElement("option",{key:9,value:9},"J"),o.a.createElement("option",{key:10,value:10},"K"),o.a.createElement("option",{key:11,value:11},"L"),o.a.createElement("option",{key:12,value:12},"M"),o.a.createElement("option",{key:13,value:13},"N"),o.a.createElement("option",{key:14,value:14},"O"),o.a.createElement("option",{key:15,value:15},"P"),o.a.createElement("option",{key:16,value:16},"Q"),o.a.createElement("option",{key:17,value:17},"R"),o.a.createElement("option",{key:18,value:18},"S"),o.a.createElement("option",{key:19,value:19},"T"),o.a.createElement("option",{key:20,value:20},"U"),o.a.createElement("option",{key:21,value:21},"V"),o.a.createElement("option",{key:22,value:22},"W"),o.a.createElement("option",{key:23,value:23},"X"),o.a.createElement("option",{key:24,value:24},"Y"),o.a.createElement("option",{key:25,value:25},"Z")],y=[o.a.createElement("option",{key:0,value:1},"I"),o.a.createElement("option",{key:1,value:2},"II"),o.a.createElement("option",{key:2,value:3},"III"),o.a.createElement("option",{key:3,value:4},"IV"),o.a.createElement("option",{key:4,value:5},"V")],v=[o.a.createElement("option",{key:0,value:"B"},"UKW-B (Wehrmacht)"),o.a.createElement("option",{key:1,value:"C"},"UKW-C (Luftwaffe)")];var k=function(e){var t=e.rotorChoices,a=e.rotorStarts,r=e.reflektor,n=Object(p.a)(t,3),l=n[0],s=n[1],c=n[2],u=Object(p.a)(a,3),m=u[0],h=u[1],d=u[2];return o.a.createElement("div",{style:g.root},o.a.createElement("h3",null,"Settings"),o.a.createElement("div",{style:g.labelsRoot},o.a.createElement("label",{style:g.label},"Rotor 1"),o.a.createElement("label",{style:g.label},"Rotor 2"),o.a.createElement("label",{style:g.label},"Rotor 3")),o.a.createElement("div",{style:g.selectRoot},o.a.createElement("select",{style:Object(i.a)({},g.select,"dark"===e.theme?g.select._dark:null),name:"rotor1",value:l,onChange:function(t){return e.onSelectChange(t.target.name,t.target.value)}},y),o.a.createElement("select",{style:Object(i.a)({},g.select,"dark"===e.theme?g.select._dark:null),name:"rotor2",value:s,onChange:function(t){return e.onSelectChange(t.target.name,t.target.value)}},y),o.a.createElement("select",{style:Object(i.a)({},g.select,"dark"===e.theme?g.select._dark:null),name:"rotor3",value:c,onChange:function(t){return e.onSelectChange(t.target.name,t.target.value)}},y)),o.a.createElement("div",{style:g.labelsRoot},o.a.createElement("label",{style:g.label},"Start 1"),o.a.createElement("label",{style:g.label},"Start 2"),o.a.createElement("label",{style:g.label},"Start 3")),o.a.createElement("div",{style:g.selectRoot},o.a.createElement("select",{style:Object(i.a)({},g.select,"dark"===e.theme?g.select._dark:null),name:"start1",value:m,onChange:function(t){return e.onSelectChange(t.target.name,t.target.value)}},b),o.a.createElement("select",{style:Object(i.a)({},g.select,"dark"===e.theme?g.select._dark:null),name:"start2",value:h,onChange:function(t){return e.onSelectChange(t.target.name,t.target.value)}},b),o.a.createElement("select",{style:Object(i.a)({},g.select,"dark"===e.theme?g.select._dark:null),name:"start3",value:d,onChange:function(t){return e.onSelectChange(t.target.name,t.target.value)}},b)),o.a.createElement("label",{style:g.reflektorLabel},"Reflektor"),o.a.createElement("select",{style:Object(i.a)({},g.reflektorSelect,"dark"===e.theme?g.reflektorSelect._dark:null),name:"reflektor",value:r,onChange:function(t){return e.onSelectChange(t.target.name,t.target.value)}},v))},f={root:{margin:"0 auto"},input:{width:"90%",maxWidth:"320px",resize:"none",border:"1px solid #000000",borderRadius:"8px",margin:"32px 18px",boxShadow:"0 1px 4px 0 #999999",_dark:{backgroundColor:"#603030",color:"#eeeeee",border:"1px solid #cccccc",boxShadow:"0 1px 4px 0 #666666"}}},_=function(e){return o.a.createElement("div",{style:f.root},o.a.createElement("textarea",{style:Object(i.a)({},f.input,"dark"===e.theme?f.input._dark:null),placeholder:"your message",autoComplete:"off",rows:8,value:e.message,onChange:function(t){return e.inputChange(t.target.value,e.crypto)}}),o.a.createElement("textarea",{style:Object(i.a)({},f.input,"dark"===e.theme?f.input._dark:null),readOnly:!0,placeholder:"encoded message",autoComplete:"off",rows:8,value:e.encoded}))},E={root:{padding:"16px 24px",fontSize:"1rem"}},C=function(){return o.a.createElement("div",{style:E.root},o.a.createElement("p",null,"Now try copying the encrypted message and paste it anywhere to send it to a friend. This same web app can be used to decrypt the message by copy/pasting the sent message into the first box.",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("b",null,"Important: "),"Be sure to also share the exact same settings you used.",o.a.createElement("br",null),o.a.createElement("i",null,"example: 3 1 3, D A G, UKW-B, AB CD EF GH IJ KL MN OP QR ST")))},x={pair:{margin:"0 auto"},select:{border:"none",margin:"0.25rem",fontSize:"1.10rem",_dark:{backgroundColor:"#603030",color:"#eeeeee"}}};var w=function(e){return o.a.createElement("div",{style:x.pair},"Pair ",e.num,o.a.createElement("div",null,o.a.createElement("select",{style:Object(i.a)({},x.select,"dark"===e.theme?x.select._dark:null),value:e.pairKey,onChange:function(t){return e.onChangeKey(t.target.value,e.num)}},o.a.createElement("option",null,e.pairKey),e.possible)),o.a.createElement("div",null,o.a.createElement("select",{style:Object(i.a)({},x.select,"dark"===e.theme?x.select._dark:null),value:e.pairValue,onChange:function(t){return e.onChangeValue(t.target.value,e.num)}},o.a.createElement("option",null,e.pairValue),e.possible)))},S={root:{fontSize:"0.9rem"},title:{fontSize:"1.10rem",margin:"0.8rem auto"},board:{display:"flex",justify:"space-between",margin:"0 auto"}};var j=function(e){var t=function(){return e.possible.map(function(e,t){return o.a.createElement("option",{key:t},e)})},a=function(t){return Object.keys(e.board[t])[0]};return o.a.createElement("div",{style:S.root},o.a.createElement("div",{style:S.title},"Plugboard"),o.a.createElement("div",{style:S.board},[1,2,3,4,5].map(function(r,n){return o.a.createElement(w,{key:n,theme:e.theme,num:r,possible:t(),pairKey:a(r),pairValue:e.board[r][a(r)],onChangeKey:e.onChangeKey,onChangeValue:e.onChangeValue})})),o.a.createElement("div",{style:S.board},[6,7,8,9,10].map(function(r,n){return o.a.createElement(w,{key:n,theme:e.theme,num:r,possible:t(),pairKey:a(r),pairValue:e.board[r][a(r)],onChangeKey:e.onChangeKey,onChangeValue:e.onChangeValue})})))},O=a(3),R=a.n(O),z=["e","k","m","f","l","g","d","q","v","z","n","t","o","w","y","h","x","u","s","p","a","i","b","r","c","j"],q=["a","j","d","k","s","i","r","u","x","b","l","h","w","t","m","c","q","g","z","n","p","y","f","v","o","e"],K=["b","d","f","h","j","l","c","p","r","t","x","v","z","n","y","e","i","w","g","a","k","m","u","s","q","o"],V=["e","s","o","v","p","z","j","a","y","q","u","i","r","h","x","l","n","f","t","g","k","d","c","m","w","b"],I=["v","z","b","r","g","i","t","y","u","p","s","d","n","h","l","x","a","w","m","j","q","o","f","e","c","k"],T=function(){function e(t,a){switch(Object(c.a)(this,e),this.__position=a,t){case 1:this.__letters=z,this.__turnover="q";break;case 2:this.__letters=q,this.__turnover="e";break;case 3:this.__letters=K,this.__turnover="v";break;case 4:this.__letters=V,this.__turnover="j";break;case 5:this.__letters=I,this.__turnover="z";break;default:console.error("error invalid Rotor input. using default mapping."),this.__letters=z}}return Object(u.a)(e,[{key:"getCurrentPosition",value:function(){return this.__position}},{key:"getTurnover",value:function(){return this.__turnover}},{key:"getChar",value:function(e){return this.__letters[e]}},{key:"findIndex",value:function(e){return this.__letters.indexOf(e)}},{key:"rotorStep",value:function(){++this.__position,this.__position>25&&(this.__position=0)}}]),e}(),B={a:"y",b:"r",c:"u",d:"h",e:"q",f:"s",g:"l",h:"d",i:"p",j:"x",k:"n",l:"g",m:"o",n:"k",o:"m",p:"i",q:"e",r:"b",s:"f",t:"z",u:"c",v:"w",w:"v",x:"j",y:"a",z:"t"},W={a:"f",b:"v",c:"p",d:"j",e:"i",f:"a",g:"o",h:"y",i:"e",j:"d",k:"r",l:"z",m:"x",n:"w",o:"g",p:"c",q:"t",r:"k",s:"u",t:"q",u:"s",v:"b",w:"n",x:"m",y:"h",z:"l"},P=function(){function e(t,a,r,o,n,l,i,s){switch(Object(c.a)(this,e),this.__rotor1=new T(t,o),this.__rotor2=new T(a,n),this.__rotor3=new T(r,l),this.__plugboard=s,i){case"B":this.__reflektor=B;break;case"C":this.__reflektor=W;break;default:this.__reflektor=B}}return Object(u.a)(e,[{key:"write",value:function(e){var t=e.toLowerCase().split("");for(var a in t){var r=!1,o=!1,n=this.__rotor3.getTurnover(),l=String.fromCharCode(this.__rotor3.getCurrentPosition()+97),i=this.__rotor2.getTurnover(),s=String.fromCharCode(this.__rotor2.getCurrentPosition()+97);n===l&&(r=!0);var c=t[a];/^[a-z]$/.test(c)&&(c=this.__plugboard[c]?this.__plugboard[c]:c,c=this.__writeRotorForward(this.__rotor3,c),c=this.__writeRotorForward(this.__rotor2,c),c=this.__writeRotorForward(this.__rotor1,c),c=this.__reflektor[c],c=this.__writeRotorReverse(this.__rotor1,c),c=this.__writeRotorReverse(this.__rotor2,c),c=this.__writeRotorReverse(this.__rotor3,c),c=this.__plugboard[c]?this.__plugboard[c]:c,t[a]=c,this.__rotor3.rotorStep(),r&&this.__rotor2.rotorStep(),i===s&&(o=!0),o&&this.__rotor1.rotorStep())}return t.join("")}},{key:"__writeRotorForward",value:function(e,t){var a=e.getCurrentPosition(),r=(t.charCodeAt(0)-97+a)%26,o=e.getChar(r).charCodeAt(0);return o=o-a<97?o-(a-26):o-a,String.fromCharCode(o)}},{key:"__writeRotorReverse",value:function(e,t){var a=e.getCurrentPosition(),r=t.charCodeAt(0),o=r+a>122?String.fromCharCode(r+(a-26)):String.fromCharCode(r+a),n=e.findIndex(o),l=n-a<0?n-(a-26)+97:n-a+97;return String.fromCharCode(l)}}]),e}();P.propTypes={rotor1:R.a.number.isRequired,start1:R.a.number.isRequired,rotor2:R.a.number.isRequired,start2:R.a.number.isRequired,rotor3:R.a.number.isRequired,start3:R.a.number.isRequired,plugboard:R.a.object.isRequired};var A={root:{textAlign:"center"},header:{border:"1px solid #603030",backgroundColor:"#603030",color:"#fefefe"},themetoggle:{borderRadius:"8px",margin:"8px 4px",padding:"4px",fontSize:"0.8rem",backgroundColor:"transparent",border:"1px solid #000000",boxShadow:"0 1px 4px 0 #999999",_dark:{border:"1px solid #eeeeee",color:"#eeeeee",boxShadow:"0 1px 4px 0 #666666"}},title:{fontSize:"1.35rem"},content:{margin:"0 auto",padding:"8px",maxWidth:"800px"}},L=10,F=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={rotor1:1,rotor2:2,rotor3:3,start1:0,start2:0,start3:0,reflektor:"B",plugboard:[{sent:"inel"},{a:"b"},{c:"d"},{e:"f"},{g:"h"},{i:"j"},{k:"l"},{m:"n"},{o:"p"},{q:"r"},{s:"t"}],possible:["u","v","w","x","y","z"],message:"",encoded:""},a.toggleTheme=function(){a.setState(function(e){var t="light"===e.theme?"dark":"light";return localStorage.theme=t,{theme:t}})},a.onMessageWrite=function(e,t){a.setState({message:e,encoded:t.write(e)})},a.choiceChange=function(e,t){var r;/[0-9]/.test(t)&&(t=parseInt(t,L)),a.setState((r={},Object(s.a)(r,e,t),Object(s.a)(r,"message",""),Object(s.a)(r,"encoded",""),r))},a.plugboardChangeKey=function(e,t){a.setState(function(a){var r=Object.keys(a.plugboard[t])[0],o=a.possible;o[o.indexOf(e)]=r;var n=a.plugboard[t][r],l=a.plugboard;return r=e,l[t]=Object(s.a)({},r,n),{plugboard:l,possible:o,message:"",encoded:""}})},a.plugboardChangeValue=function(e,t){a.setState(function(a){var r=a.plugboard,o=Object.keys(r[t])[0],n=r[t][o],l=a.possible;return l[l.indexOf(e)]=n,n=e,r[t]=Object(s.a)({},o,n),{plugboard:r,possible:l,message:"",encoded:""}})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({theme:localStorage.theme||"light"})}},{key:"render",value:function(){var e=this.state,t=e.rotor1,a=e.rotor2,r=e.rotor3,n=e.start1,l=e.start2,s=e.start3,c=e.reflektor,u=function(e){var t={},a=!0,r=!1,o=void 0;try{for(var n,l=e[Symbol.iterator]();!(a=(n=l.next()).done);a=!0){var i=n.value,s=Object.keys(i)[0];t[s]=i[s],t[i[s]]=s}}catch(c){r=!0,o=c}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return t}(e.plugboard),m=new P(t,a,r,n,l,s,"B",u),h="dark"===this.state.theme?{backgroundColor:"#333333",color:"#eeeeee"}:{backgroundColor:"#eeeeee",color:"#000000"};return o.a.createElement("div",{style:Object(i.a)({},A.root,h)},o.a.createElement("div",{style:A.header},o.a.createElement("h1",{style:A.title},"Enigma M3 Web")),o.a.createElement("div",{style:A.content},o.a.createElement(k,{theme:this.state.theme,rotorChoices:[t,a,r],rotorStarts:[n,l,s],reflektor:c,onSelectChange:this.choiceChange}),o.a.createElement(j,{theme:this.state.theme,board:this.state.plugboard,possible:this.state.possible,onChangeKey:this.plugboardChangeKey,onChangeValue:this.plugboardChangeValue}),o.a.createElement(_,{theme:this.state.theme,inputChange:this.onMessageWrite,message:this.state.message,encoded:this.state.encoded,crypto:m}),o.a.createElement(C,{theme:this.state.theme})),o.a.createElement("footer",null,o.a.createElement("button",{className:"anybutton",style:Object(i.a)({},A.themetoggle,"dark"===this.state.theme?A.themetoggle._dark:null),onClick:this.toggleTheme},"Toggle ","dark"===this.state.theme?"Light":"Dark"," Theme")))}}]),t}(o.a.Component);l.a.render(o.a.createElement(F,null),document.getElementById("root"))}},[[12,2,1]]]);